website_contents = {
    "About me": [
        {
            "id": 1,
            "type_soft": "aboutme",
            "translations": [
                {
                    "id": 1,
                    "language": "en",
                    "title": "",
                    "text": "My name is Jakub"
                },
                {
                    "id": 2,
                    "language": "pl",
                    "title": "",
                    "text": "Mam na imie Kuba"
                }
            ]
        }
    ],
    "My projects": [
        {
            "id": 1,
            "subtechnologies_used": "sub sub sub",
            "image_path": "html",
            "link": "html",
            "translations": [
                {
                    "id": 23,
                    "language": "en",
                    "title": "Morse Code converter",
                    "text": "Random text"
                },
                {
                    "id": 24,
                    "language": "pl",
                    "title": "Konwerter kodu Morse'a",
                    "text": "Random text"
                }
            ]
        },
        {
            "id": 2,
            "subtechnologies_used": "sub sub sub",
            "image_path": "html",
            "link": "html",
            "translations": [
                {
                    "id": 25,
                    "language": "en",
                    "title": "Portfolio Website",
                    "text": "Random text"
                },
                {
                    "id": 26,
                    "language": "pl",
                    "title": "Strona portfolio",
                    "text": "Random text"
                }
            ]
        }
    ],
    "Technical skills": [
        {
            "id": 1,
            "technology_name": "Python",
            "subtechnologies": [
                {
                    "id": 1,
                    "subtechnology_name": "Pandas, Numpy",
                    "translations": [
                        {
                            "id": 27,
                            "language": "en",
                            "text": "Data manipulation"
                        },
                        {
                            "id": 28,
                            "language": "pl",
                            "text": "Manipulacja danych"
                        }
                    ]
                },
                {
                    "id": 2,
                    "subtechnology_name": "Matplotlib, Seaborn, Plotly",
                    "translations": [
                        {
                            "id": 29,
                            "language": "en",
                            "text": "Data visualisation"
                        },
                        {
                            "id": 30,
                            "language": "pl",
                            "text": "wizualizacja danych"
                        }
                    ]
                },
                {
                    "id": 3,
                    "subtechnology_name": "Scikit-learn",
                    "translations": [
                        {
                            "id": 31,
                            "language": "en",
                            "text": "Machine Learning"
                        },
                        {
                            "id": 32,
                            "language": "pl",
                            "text": "Uczenie maszynowe"
                        }
                    ]
                },
                {
                    "id": 4,
                    "subtechnology_name": "Flask, SQLAlchemy",
                    "translations": [
                        {
                            "id": 33,
                            "language": "en",
                            "text": "Web development, database"
                        },
                        {
                            "id": 34,
                            "language": "pl",
                            "text": "Web development, bazy danych"
                        }
                    ]
                },
                {
                    "id": 5,
                    "subtechnology_name": "Selenium, beautifulsoup",
                    "translations": [
                        {
                            "id": 35,
                            "language": "en",
                            "text": "Browser automation"
                        },
                        {
                            "id": 36,
                            "language": "pl",
                            "text": "Automatyzacja przegladarki"
                        }
                    ]
                }
            ]
        },
        {
            "id": 2,
            "technology_name": "MS Office",
            "subtechnologies": [
                {
                    "id": 6,
                    "subtechnology_name": "Excel",
                    "translations": [
                        {
                            "id": 37,
                            "language": "en",
                            "text": "Pivot tables"
                        },
                        {
                            "id": 38,
                            "language": "pl",
                            "text": "Tabele przestawne"
                        }
                    ]
                },
                {
                    "id": 7,
                    "subtechnology_name": "Word",
                    "translations": [
                        {
                            "id": 39,
                            "language": "en",
                            "text": "Document formatting"
                        },
                        {
                            "id": 40,
                            "language": "pl",
                            "text": "formatowanie dokumentow"
                        }
                    ]
                },
                {
                    "id": 8,
                    "subtechnology_name": "Powerpoint",
                    "translations": [
                        {
                            "id": 41,
                            "language": "en",
                            "text": "presentations"
                        },
                        {
                            "id": 42,
                            "language": "pl",
                            "text": "prezentacje"
                        }
                    ]
                },
                {
                    "id": 9,
                    "subtechnology_name": "Teams & Outlook",
                    "translations": [
                        {
                            "id": 43,
                            "language": "en",
                            "text": "basic usage"
                        },
                        {
                            "id": 44,
                            "language": "pl",
                            "text": "podstawowa obsluga"
                        }
                    ]
                }
            ]
        },
        {
            "id": 3,
            "technology_name": "ServiceNow",
            "translations": [
                {
                    "id": 45,
                    "language": "en",
                    "title": "",
                    "text": "ticket creation"
                },
                {
                    "id": 46,
                    "language": "pl",
                    "title": "",
                    "text": "tworzenie \"ticketow\""
                }
            ]
        },
        {
            "id": 4,
            "technology_name": "Active Directory",
            "translations": [
                {
                    "id": 47,
                    "language": "en",
                    "title": "",
                    "text": "account management"
                },
                {
                    "id": 48,
                    "language": "pl",
                    "title": "",
                    "text": "zarzadzanie kontami"
                }
            ]
        }
    ],
    "Work experience": [
        {
            "id": 1,
            "type_exp": "work",
            "location": "Capgemini, Katowice",
            "time_range": "01-2023 - Now, 9 months",
            "translations": [
                {
                    "id": 49,
                    "language": "en",
                    "title": "IT Service Desk agent",
                    "text": "Fixing stuff through phone"
                },
                {
                    "id": 50,
                    "language": "pl",
                    "title": "Agent IT Service Desk'u",
                    "text": "Naprawa sprzetu IT przez telefon"
                }
            ]
        },
        {
            "id": 2,
            "type_exp": "work",
            "location": "Eurofins, Katowice",
            "time_range": "06-2020 - 09-2020, 3 months",
            "translations": [
                {
                    "id": 51,
                    "language": "en",
                    "title": "Chromatography Intern",
                    "text": "Soil sample analysis"
                },
                {
                    "id": 52,
                    "language": "pl",
                    "title": "Staz chromatograf",
                    "text": "Badanie probek gleby"
                }
            ]
        }
    ],
    "Education": [
        {
            "id": 3,
            "type_exp": "education",
            "location": "University of Silesia, Katowice",
            "time_range": "10-2020 - 07-2022, 1 year 9 months",
            "translations": [
                {
                    "id": 53,
                    "language": "en",
                    "title": "Chemistry MS",
                    "text": "Thesis about Chromatography"
                },
                {
                    "id": 54,
                    "language": "pl",
                    "title": "Magister Chemii",
                    "text": "Praca o chromatografii"
                }
            ]
        },
        {
            "id": 4,
            "type_exp": "education",
            "location": "University of Silesia, Katowice",
            "time_range": "10-2017 - 10-2020, 3 years ",
            "translations": [
                {
                    "id": 55,
                    "language": "en",
                    "title": "Chemistry Bachelor",
                    "text": "Teorethical chemistry"
                },
                {
                    "id": 56,
                    "language": "pl",
                    "title": "Licencjat chemii",
                    "text": "Chemia teoretyczna"
                }
            ]
        }
    ],
    "Languages": [
        {
            "id": 2,
            "type_soft": "language",
            "translations": [
                {
                    "id": 3,
                    "language": "en",
                    "title": "",
                    "text": "Polish: native"
                },
                {
                    "id": 4,
                    "language": "pl",
                    "title": "",
                    "text": "Polski: ojczysty"
                }
            ]
        },
        {
            "id": 3,
            "type_soft": "language",
            "translations": [
                {
                    "id": 5,
                    "language": "en",
                    "title": "",
                    "text": "English: C1"
                },
                {
                    "id": 6,
                    "language": "pl",
                    "title": "",
                    "text": "Angielski: C1"
                }
            ]
        }
    ],
    "Soft skills": [
        {
            "id": 4,
            "type_soft": "soft skill",
            "translations": [
                {
                    "id": 7,
                    "language": "en",
                    "title": "",
                    "text": "Communication"
                },
                {
                    "id": 8,
                    "language": "pl",
                    "title": "",
                    "text": "Komunikacja"
                }
            ]
        },
        {
            "id": 5,
            "type_soft": "soft skill",
            "translations": [
                {
                    "id": 9,
                    "language": "en",
                    "title": "",
                    "text": "Teamwork"
                },
                {
                    "id": 10,
                    "language": "pl",
                    "title": "",
                    "text": "Praca zespolowa"
                }
            ]
        },
        {
            "id": 6,
            "type_soft": "soft skill",
            "translations": [
                {
                    "id": 11,
                    "language": "en",
                    "title": "",
                    "text": "Accuracy"
                },
                {
                    "id": 12,
                    "language": "pl",
                    "title": "",
                    "text": "Dokladnosc"
                }
            ]
        },
        {
            "id": 7,
            "type_soft": "soft skill",
            "translations": [
                {
                    "id": 13,
                    "language": "en",
                    "title": "",
                    "text": "Work ethic"
                },
                {
                    "id": 14,
                    "language": "pl",
                    "title": "",
                    "text": "Pracowitosc"
                }
            ]
        }
    ],
    "Interest": [
        {
            "id": 8,
            "type_soft": "interest",
            "translations": [
                {
                    "id": 15,
                    "language": "en",
                    "title": "",
                    "text": "Programming"
                },
                {
                    "id": 16,
                    "language": "pl",
                    "title": "",
                    "text": "Programowanie"
                }
            ]
        },
        {
            "id": 9,
            "type_soft": "interest",
            "translations": [
                {
                    "id": 17,
                    "language": "en",
                    "title": "",
                    "text": "Weightlifting"
                },
                {
                    "id": 18,
                    "language": "pl",
                    "title": "",
                    "text": "Silownia"
                }
            ]
        },
        {
            "id": 10,
            "type_soft": "interest",
            "translations": [
                {
                    "id": 19,
                    "language": "en",
                    "title": "",
                    "text": "Cooking"
                },
                {
                    "id": 20,
                    "language": "pl",
                    "title": "",
                    "text": "Gotowanie"
                }
            ]
        },
        {
            "id": 11,
            "type_soft": "interest",
            "translations": [
                {
                    "id": 21,
                    "language": "en",
                    "title": "",
                    "text": "Cats"
                },
                {
                    "id": 22,
                    "language": "pl",
                    "title": "",
                    "text": "Koty"
                }
            ]
        }
    ]
}


def content_by_language(contents, language):  # sorts by language
    titles_translation = {
        'About me': 'O mnie',
        'My projects': 'Moje projekty',
        'Technical skills': 'Umiejętności techniczne',
        'Work experience': 'Doświadczenie zawodowe',
        'Education': 'Edukacja',
        'Languages': 'Języki',
        'Soft skills': 'Umiejętności miękkie',
        'Interest': 'Zainteresowania',
    }

    if language == 'pl':
        for key in titles_translation:
            contents[titles_translation[key]] = contents.pop(key)

    for key, section in contents.items():
        for subsection in section:
            if 'translations' in subsection:
                translations = subsection['translations']
                translations = [translation for translation in translations if translation['language'] == language]
                subsection['translations'] = translations
            elif 'subtechnologies' in subsection:
                subtechnologies = subsection['subtechnologies']
                for subtechnology in subtechnologies:
                    translations = subtechnology['translations']
                    translations = [translation for translation in translations if translation['language'] == language]
                    subtechnology['translations'] = translations
    return contents


print(content_by_language(website_contents, 'pl'))
